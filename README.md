# ボイドモデルを利用した生態系シミュレーション
## 概要
ボイドモデルを参考にして、生態系のシミュレーションを実施しました。  
ボイドモデルは基本的に以下の３つのルールで鳥の群れの動きを再現するアルゴリズムです。  
- 集合（cohesion）：群れの中心に向かう
- 分離（separation）：ぶつからないように距離を取る
- 整列（alignment）：周りの鳥の動きと同じ方向に動く

このモデルをもとに以下の設定を追加して、生態系のシミュレーションを行っています。
- 体力・寿命
- 餌の探索・食事
- 繁殖

詳細はブログ記事にあげますので、そちらを参照してください。  
[【夏休みの自由研究】人工生命による生態系シミュレーションで、生命の絶滅を回避する方法を模索してみた｜豆蔵デベロッパーサイト](https://developer.mamezou-tech.com/blogs/2024/08/21/boid_life_simulation/)

## 実行について
main.pyを実行すると、PyGameによるシミュレーションが実施できます。  
※ Anacondaをインストールしていることが前提です。  
※ 実行するためのライブラリはrequirements.txtにありますので、適宜インストールしてください。
```powershell
python main.py
```

## 設定パラメータについて
main.pyのはじめの方に下記、設定パラメータがあります。
```python
# CSVファイルへの書き込みはするか？
IS_WRITE_CSV = True
# 遺伝的アルゴリズムを利用するか？
IS_USE_GA = True
```

### IS_WRITE_CSV
`IS_WRITE_CSV`は生成された人工生命（以下、鳥と呼ぶことにします）のデータをCSVファイルとして書き込むかのフラグです。  
`True`にすると、CSVファイルへの書き込みを実施します。  
書き込んだCSVファイルはdataディレクトリで保存され、analyze.pyを実行することで世代ごとのデータを散布図として見ることができます。  
```powershell
python analyze.py
```


### IS_USE_GA
`IS_USE_GA`は鳥が繁殖をする際にパラメータの最適化（簡易的な遺伝的アルゴリズム）を実施するかのフラグです。  
`True`にすると、初期に生成する鳥のパラメータはランダムになり、体力の高い鳥のパラメータを子供の世代に引き継ぐようにシミュレーションできます。  
`True`の場合は、model > bird.py の中のパラメータ群を参照してランダムな値を生成します。  
`False`の場合は、鳥のパラメータは固定された初期値で与えられますが、その初期値パラメータ群はmain.pyに記述してあります。  
パラメータを自分で調整してシミュレーションしたい場合は、`IS_USE_GA = False`としてください。  
※ただしその時に`IS_WRITE_CSV = True`にしても書き込まれたデータは初期値のままとなり面白味のないデータが生成されるはずですので注意してください。  

# デモ
シミュレーションを実施すると、下記のように鳥の群れの動きを観察することができます。

![](https://i.gyazo.com/6e7db236f3faa41070dfe8094e0d158f.gif)